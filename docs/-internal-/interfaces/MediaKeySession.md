[**KeyframeKit.js**](../../README.md)

***

[KeyframeKit.js](../../globals.md) / [\<internal\>](../README.md) / MediaKeySession

# Interface: MediaKeySession

Defined in: node\_modules/typescript/lib/lib.dom.d.ts:19913

The **`MediaKeySession`** interface of the Encrypted Media Extensions API represents a context for message exchange with a content decryption module (CDM).
Available only in secure contexts.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/MediaKeySession)

## Extends

- [`EventTarget`](EventTarget.md)

## Properties

### closed

> `readonly` **closed**: `Promise`\<[`MediaKeySessionClosedReason`](../type-aliases/MediaKeySessionClosedReason.md)\>

Defined in: node\_modules/typescript/lib/lib.dom.d.ts:19919

The **`closed`** read-only property of the MediaKeySession interface returns a Promise signaling when a MediaKeySession closes.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/MediaKeySession/closed)

***

### expiration

> `readonly` **expiration**: `number`

Defined in: node\_modules/typescript/lib/lib.dom.d.ts:19925

The **`expiration`** read-only property of the MediaKeySession interface returns the time after which the keys in the current session can no longer be used to decrypt media data, or NaN if no such time exists.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/MediaKeySession/expiration)

***

### keyStatuses

> `readonly` **keyStatuses**: `MediaKeyStatusMap`

Defined in: node\_modules/typescript/lib/lib.dom.d.ts:19931

The **`keyStatuses`** read-only property of the MediaKeySession interface returns a reference to a read-only MediaKeyStatusMap of the current session's keys and their statuses.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/MediaKeySession/keyStatuses)

***

### onkeystatuseschange

> **onkeystatuseschange**: (`this`, `ev`) => `any` \| `null`

Defined in: node\_modules/typescript/lib/lib.dom.d.ts:19933

[MDN Reference](https://developer.mozilla.org/docs/Web/API/MediaKeySession/keystatuseschange_event)

***

### onmessage

> **onmessage**: (`this`, `ev`) => `any` \| `null`

Defined in: node\_modules/typescript/lib/lib.dom.d.ts:19935

[MDN Reference](https://developer.mozilla.org/docs/Web/API/MediaKeySession/message_event)

***

### sessionId

> `readonly` **sessionId**: `string`

Defined in: node\_modules/typescript/lib/lib.dom.d.ts:19941

The **`sessionId`** read-only property of the MediaKeySession interface contains a unique string generated by the content decryption module (CDM) for the current media object and its associated keys or licenses.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/MediaKeySession/sessionId)

## Methods

### addEventListener()

#### Call Signature

> **addEventListener**\<`K`\>(`type`, `listener`, `options?`): `void`

Defined in: node\_modules/typescript/lib/lib.dom.d.ts:19972

The **`addEventListener()`** method of the EventTarget interface sets up a function that will be called whenever the specified event is delivered to the target.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/EventTarget/addEventListener)

##### Type Parameters

###### K

`K` *extends* keyof [`MediaKeySessionEventMap`](MediaKeySessionEventMap.md)

##### Parameters

###### type

`K`

###### listener

(`this`, `ev`) => `any`

###### options?

`boolean` | [`AddEventListenerOptions`](AddEventListenerOptions.md)

##### Returns

`void`

##### Overrides

[`EventTarget`](EventTarget.md).[`addEventListener`](EventTarget.md#addeventlistener)

#### Call Signature

> **addEventListener**(`type`, `listener`, `options?`): `void`

Defined in: node\_modules/typescript/lib/lib.dom.d.ts:19973

The **`addEventListener()`** method of the EventTarget interface sets up a function that will be called whenever the specified event is delivered to the target.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/EventTarget/addEventListener)

##### Parameters

###### type

`string`

###### listener

[`EventListenerOrEventListenerObject`](../type-aliases/EventListenerOrEventListenerObject.md)

###### options?

`boolean` | [`AddEventListenerOptions`](AddEventListenerOptions.md)

##### Returns

`void`

##### Overrides

`EventTarget.addEventListener`

***

### close()

> **close**(): `Promise`\<`void`\>

Defined in: node\_modules/typescript/lib/lib.dom.d.ts:19947

The `close()` method of the MediaKeySession interface notifies that the current media session is no longer needed, and that the content decryption module should release any resources associated with this object and close it.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/MediaKeySession/close)

#### Returns

`Promise`\<`void`\>

***

### dispatchEvent()

> **dispatchEvent**(`event`): `boolean`

Defined in: node\_modules/typescript/lib/lib.dom.d.ts:11575

The **`dispatchEvent()`** method of the EventTarget sends an Event to the object, (synchronously) invoking the affected event listeners in the appropriate order.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/EventTarget/dispatchEvent)

#### Parameters

##### event

[`Event`](Event.md)

#### Returns

`boolean`

#### Inherited from

[`EventTarget`](EventTarget.md).[`dispatchEvent`](EventTarget.md#dispatchevent)

***

### generateRequest()

> **generateRequest**(`initDataType`, `initData`): `Promise`\<`void`\>

Defined in: node\_modules/typescript/lib/lib.dom.d.ts:19953

The `generateRequest()` method of the MediaKeySession interface returns a Promise after generating a license request based on initialization data.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/MediaKeySession/generateRequest)

#### Parameters

##### initDataType

`string`

##### initData

[`BufferSource`](../type-aliases/BufferSource.md)

#### Returns

`Promise`\<`void`\>

***

### load()

> **load**(`sessionId`): `Promise`\<`boolean`\>

Defined in: node\_modules/typescript/lib/lib.dom.d.ts:19959

The `load()` method of the MediaKeySession interface returns a Promise that resolves to a boolean value after loading data for a specified session object.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/MediaKeySession/load)

#### Parameters

##### sessionId

`string`

#### Returns

`Promise`\<`boolean`\>

***

### remove()

> **remove**(): `Promise`\<`void`\>

Defined in: node\_modules/typescript/lib/lib.dom.d.ts:19965

The `remove()` method of the MediaKeySession interface returns a Promise after removing any session data associated with the current object.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/MediaKeySession/remove)

#### Returns

`Promise`\<`void`\>

***

### removeEventListener()

#### Call Signature

> **removeEventListener**\<`K`\>(`type`, `listener`, `options?`): `void`

Defined in: node\_modules/typescript/lib/lib.dom.d.ts:19974

The **`removeEventListener()`** method of the EventTarget interface removes an event listener previously registered with EventTarget.addEventListener() from the target.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/EventTarget/removeEventListener)

##### Type Parameters

###### K

`K` *extends* keyof [`MediaKeySessionEventMap`](MediaKeySessionEventMap.md)

##### Parameters

###### type

`K`

###### listener

(`this`, `ev`) => `any`

###### options?

`boolean` | [`EventListenerOptions`](EventListenerOptions.md)

##### Returns

`void`

##### Overrides

[`EventTarget`](EventTarget.md).[`removeEventListener`](EventTarget.md#removeeventlistener)

#### Call Signature

> **removeEventListener**(`type`, `listener`, `options?`): `void`

Defined in: node\_modules/typescript/lib/lib.dom.d.ts:19975

The **`removeEventListener()`** method of the EventTarget interface removes an event listener previously registered with EventTarget.addEventListener() from the target.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/EventTarget/removeEventListener)

##### Parameters

###### type

`string`

###### listener

[`EventListenerOrEventListenerObject`](../type-aliases/EventListenerOrEventListenerObject.md)

###### options?

`boolean` | [`EventListenerOptions`](EventListenerOptions.md)

##### Returns

`void`

##### Overrides

`EventTarget.removeEventListener`

***

### update()

> **update**(`response`): `Promise`\<`void`\>

Defined in: node\_modules/typescript/lib/lib.dom.d.ts:19971

The `update()` method of the MediaKeySession interface loads messages and licenses to the CDM, and then returns a Promise.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/MediaKeySession/update)

#### Parameters

##### response

[`BufferSource`](../type-aliases/BufferSource.md)

#### Returns

`Promise`\<`void`\>
